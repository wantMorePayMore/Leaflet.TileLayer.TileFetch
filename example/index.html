<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>leaflet tileLayer add TileFetch demo</title>
        <link
            href="https://cdn.bootcdn.net/ajax/libs/leaflet/1.9.4/leaflet.min.css"
            rel="stylesheet"
        />
        <script src="https://cdn.bootcdn.net/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
        <script src="../dist/Leaflet.TileLayer.TileFetch.js"></script>
        <style ref="stylesheet">
            html,
            body,
            #map {
                height: 100%;
                margin: 0;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>
        <script>
            const map = L.map('map').setView([39.9164, 116.3908], 15);
            L.TileLayer.tileFetch(
                'https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
                {
                  tileRequestParameters: ()=>{
                      return {
                        cache:"default",
                        headers: {
                          // 'time': new Date().toISOString()
                        },
                      };
                  }
                }
            ).addTo(map);
        </script>
    </body>
</html>
